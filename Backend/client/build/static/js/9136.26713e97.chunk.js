"use strict";(self.webpackChunkcommodityvirtualdashboard=self.webpackChunkcommodityvirtualdashboard||[]).push([[9136],{88764:(e,r,o)=>{o.d(r,{AN:()=>g,G7:()=>y,LR:()=>S,Uk:()=>j,dZ:()=>x,iY:()=>E,jR:()=>A,q:()=>C,tk:()=>b,uf:()=>w,vz:()=>f,zU:()=>k});var n=o(65043),t=o(90914),a=o(97864),s=o(12836),i=o(59781),l=o(75604),c=o(17586),u=o(42145),d=o(22359),v=o(79698),h=o(77154),m=o(73216);const p="There was an error contacting the server.";function f(){const e=(0,n.useContext)(t.c);return(0,s.n)({mutationFn:async e=>(await(0,d.S)({url:"/auth/login",method:"POST",data:e,headers:{"Content-Type":"application/json"}})).data,onSuccess:r=>{(0,c.Sv)("Login Successful"),(0,a.h8)(r.token),e.authenticate(r.token)},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}})}function S(){const e=(0,m.Zp)(),{mutate:r,isError:o,error:n,isSuccess:t,reset:a}=(0,s.n)({mutationFn:e=>async function(e){const r=await(0,d.S)({url:"/auth/user/create",method:"POST",data:e,headers:{"Content-Type":"application/json"}});return null===r||void 0===r?void 0:r.data}(e),onSuccess:r=>{e("/login"),(0,c.Sv)("Registration Successful")},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return{mutate:r,isError:o,error:n,isSuccess:t,reset:a}}function y(){const e=(0,m.Zp)(),{mutate:r,isError:o,error:n,isSuccess:t,reset:a}=(0,s.n)({mutationFn:e=>async function(e){const r=await(0,d.S)({url:"/auth/forgotpassword",method:"POST",data:e,headers:{"Content-Type":"application/json"}});return null===r||void 0===r?void 0:r.data}(e),onSuccess:r=>{e("/login"),(0,c.Sv)("Check your Mailbox for instructions")},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return{mutate:r,isError:o,error:n,isSuccess:t,reset:a}}function g(){const e=(0,m.Zp)(),{mutate:r,isError:o,error:n,isSuccess:t,reset:a}=(0,s.n)({mutationFn:e=>async function(e){const r=await(0,d.S)({url:"/auth/admin/create",method:"POST",data:e,headers:{"Content-Type":"application/json"}});return null===r||void 0===r?void 0:r.data}(e),onSuccess:r=>{(0,c.Sv)("Admin Registration Successful"),e("/login")},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return{mutate:r,isError:o,error:n,isSuccess:t,reset:a}}function x(){const e=(0,i.jE)(),{mutate:r,isError:o,error:n,isSuccess:t,reset:l,data:u}=(0,s.n)({mutationFn:e=>async function(e){const r=await(0,d.S)({url:"/auth/me",method:"PUT",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat((0,a.l)())}});return null===r||void 0===r?void 0:r.data}(e),onSuccess:r=>{e.invalidateQueries([v.l.me])},onError:e=>{(0,c.n7)(e)}});return{mutate:r,isError:o,error:n,isSuccess:t,reset:l,data:u}}function j(e){const r=(0,i.jE)(),{mutate:o,isError:n,error:t,isSuccess:l,reset:h,data:m}=(0,s.n)({mutationFn:r=>async function(e,r){try{return(await d.S.put("/auth/".concat(e,"/photo"),r,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat((0,a.l)())}})).data}catch(t){var o;throw(null===(o=t.response)||void 0===o?void 0:o.data)||t.message}}(e,r),onSuccess:()=>{r.invalidateQueries([v.l.user]),(0,c.Sv)("Profile picture uploaded Successful")},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return{mutate:o,isError:n,error:t,isSuccess:l,reset:h,data:m,uploadProfilePromise:e=>new Promise(((r,n)=>{o(e,{onSuccess:()=>{r(m)},onError:e=>{n(e)}})}))}}function w(){const e={},{data:r=e}=(0,l.I)({queryKey:[v.l.user],queryFn:()=>async function(){const e=await(0,d.S)({url:"/auth/me",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,a.l)())}});return null===e||void 0===e?void 0:e.data}(),onSuccess:()=>{},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return r}function E(){const e=(0,i.jE)(),{mutate:r,isError:o,error:n,isSuccess:t,reset:l}=(0,s.n)({mutationFn:e=>async function(e){const r=await(0,d.S)({url:"/auth/".concat(e),method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,a.l)())}});return null===r||void 0===r?void 0:r.data}(e),onSuccess:r=>{e.invalidateQueries([v.l.users]),(0,c.Sv)("User Deleted Successfully"),l()},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return{mutate:r,isError:o,error:n,isSuccess:t,reset:l}}function b(e){const{mutate:r,isError:o,error:n,isSuccess:t,reset:a}=(0,s.n)({mutationFn:r=>async function(e,r){const o=await(0,d.S)({url:"/auth/resetpassword/".concat(r),method:"PUT",data:e,headers:{"Content-Type":"application/json"}});return null===o||void 0===o?void 0:o.data}(r,e),onSuccess:e=>{(0,c.Sv)("Password Changed Successfully"),a()},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return{mutate:r,isError:o,error:n,isSuccess:t,reset:a}}function A(){const e={},{data:r=e}=(0,l.I)({queryKey:[v.l.users],queryFn:()=>async function(){const e=await(0,d.S)({url:"/auth/user",method:"GET"});return null===e||void 0===e?void 0:e.data}(),onSuccess:()=>{},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return r}function C(){const e={},{data:r=e}=(0,l.I)({queryKey:[v.l.usersRole],queryFn:()=>async function(){const e=await(0,d.S)({url:"/auth/GetRegisteredUser",method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,a.l)())}});return null===e||void 0===e?void 0:e.data}(),onSuccess:()=>{},onError:e=>{var r,o,n,t;const a=null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.error?null===e||void 0===e||null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error:p;u.oR.error(a,c.S1)}});return r}function k(e){const r={},{data:o=r,error:n}=(0,l.I)(["exchangeRate",e],(()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(await h.A.get("https://v6.exchangerate-api.com/v6/".concat("08c1fdd92760e0126191fc0d","/latest/").concat(e))).data}(e)));return o}},40341:(e,r,o)=>{o.d(r,{A:()=>g});var n=o(65043),t=o(15546),a=o(87021),s=o(10881),i=o(48677),l=o(35475),c=o(73216),u=o(36428),d=o(53727),v=o(90914),h=o(46011),m=o(225),p=o(36160),f=o(70579);const{Header:S}=t.A;function y(e,r,o,n,t){return{key:r,icon:n,type:t,label:(0,f.jsx)(l.N_,{to:r,children:e})}}const g=e=>{let{children:r,Heading:o,Background:l}=e;const[g,x]=(0,n.useState)(!1),{logout:j}=(0,n.useContext)(v.c),{user:w}=(0,n.useContext)(v.c),E=(0,c.Zp)(),b=()=>{x(!1)},A=()=>{j(),window.location.reload(),E("/")},C=[y("Create Admin","/s-admin/dashboard",0,(0,f.jsx)(h.A,{})),y("All admins","/s-admin/admins",0,(0,f.jsx)(m.A,{})),y("Logout","",0,(0,f.jsx)(p.A,{}))];return(0,f.jsx)(t.A,{children:(0,f.jsxs)("div",{className:"overflow-x-hidden gap-2 pb-8 bg-white ",children:[(0,f.jsxs)("div",{className:"sm:h-[230px] h-[100px] w-full flex items-start bg-cover bg-center justify-center flex-col gap-2 p-12",style:{backgroundImage:"linear-gradient(89.36deg, #39462D 38.02%, rgba(57, 70, 45, 0.24) 123.04%), url(".concat(l,")"),backgroundSize:"100%, 70%",backgroundPosition:"center, right",backgroundRepeat:"no-repeat"},children:[(0,f.jsx)("div",{className:"text-xl sm:text-4xl mb-1 font-bold text-white sm:leading-tight leading-tight",children:o}),(0,f.jsx)("div",{})]}),(0,f.jsxs)(S,{className:"flex justify-between items-center px-12 pt-8 mb-3 bg-white",children:[(0,f.jsx)("div",{className:"flex items-center gap-2",children:(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsxs)("div",{className:"ml-2 mt-2 text-sm font-bold",children:["Hello, ",null===w||void 0===w?void 0:w.fullname," "]}),(0,f.jsx)("div",{className:"ml-2 text-sm",children:"It\u2019s nice seeing you again!"})]})}),(0,f.jsx)("div",{className:"sm:hidden shadow-none",children:(0,f.jsx)(a.Ay,{type:"primary",className:"shadow-none mr-8",onClick:()=>{x(!0)},icon:(0,f.jsx)(u.A,{style:{color:"black"}})})}),(0,f.jsx)(s.A,{defaultOpenKeys:["sub1"],className:"hidden sm:flex sm:justify-end bg-transparent border-none outline-none sm:w-full",mode:"horizontal",items:C,onClick:e=>""===e.key?A():void 0,selectedKeys:[location.pathname]})]}),(0,f.jsxs)(i.A,{placement:"right",width:200,closable:!1,onClose:b,open:g,children:[(0,f.jsx)("div",{className:"flex justify-end",children:(0,f.jsx)(d.A,{onClick:b})}),(0,f.jsx)(s.A,{defaultOpenKeys:["sub1"],mode:"vertical",className:"border-none",items:C,onClick:e=>""===e.key?A():void 0,selectedKeys:[location.pathname]})]}),(0,f.jsx)("div",{className:"bg-white px-12 pt-10",children:r})]})})}},225:(e,r,o)=>{o.d(r,{A:()=>l});var n=o(58168),t=o(65043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"}},{tag:"path",attrs:{d:"M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"}}]},name:"aim",theme:"outlined"};var s=o(22172),i=function(e,r){return t.createElement(s.A,(0,n.A)({},e,{ref:r,icon:a}))};const l=t.forwardRef(i)},46011:(e,r,o)=>{o.d(r,{A:()=>l});var n=o(58168),t=o(65043);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"};var s=o(22172),i=function(e,r){return t.createElement(s.A,(0,n.A)({},e,{ref:r,icon:a}))};const l=t.forwardRef(i)}}]);
//# sourceMappingURL=9136.26713e97.chunk.js.map