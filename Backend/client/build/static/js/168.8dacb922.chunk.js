"use strict";(self.webpackChunkcommodityvirtualdashboard=self.webpackChunkcommodityvirtualdashboard||[]).push([[168],{20168:(e,l,s)=>{s.r(l),s.d(l,{default:()=>b});var t=s(65043),a=s(73216),i=s(48649),r=(s(25884),s(87021)),n=s(59748),o=s(33307),d=s(54903),c=s(7205),m=s(80132),u=s(92823),x=s.n(u),p=s(50867),f=s(14279),g=s(70579);const h=e=>{let{data:l}=e;const s=(0,c.l)(),{id:i}=(0,a.g)(),u=(0,f.decode)((null===l||void 0===l?void 0:l.description)||""),{mutate:h}=(0,p._D)(i),[b]=n.A.useForm(),[j,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(l.image),[k,F]=(0,t.useState)(null),[N,A]=(0,t.useState)(u);(0,t.useEffect)((()=>{l&&b.setFieldsValue(l)}),[l,b]);const C=(0,t.useRef)(null);(0,t.useEffect)((()=>{if(C.current){const e=C.current.getEditor(),l=e.clipboard.convert(u);e.setContents(l)}}),[u]);const[S,E]=(0,t.useState)({title:"",description:"",image:""}),D={name:"file",multiple:!1,beforeUpload:()=>!1,fileList:[],onChange:e=>{const l=e.file;if(v(l),e.fileList.length>0){const l=e.fileList[0].originFileObj;if(l){const e=new FileReader;e.onload=e=>{var l;w(null===(l=e.target)||void 0===l?void 0:l.result)},e.readAsDataURL(l)}else w(null)}}};return(0,g.jsx)("div",{className:"justify-center items-center flex flex-col sm:flex-row py-3 h-full",children:(0,g.jsx)("div",{children:(0,g.jsxs)(n.A,{form:b,variant:"borderless",layout:"vertical",requiredMark:!1,size:"large",name:"commodity-form",className:"flex-col sm:flex-row w-[250px] lg:w-[1000px] md:w-full sm:w-full",children:[(0,g.jsx)("div",{className:"flex justify-end mb-2 mt-10"}),(0,g.jsxs)("div",{className:"gap-6 flex flex-col sm:flex-row",style:{marginBottom:"-3rem",marginTop:"-2rem"},children:[(0,g.jsxs)("div",{className:"flex-col",style:{flex:1},children:[(0,g.jsx)(n.A.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter a title"}],children:(0,g.jsx)(o.A,{className:"w-full",name:"title",onChange:e=>{const{name:l,value:s}=e.target;E({...S,[l]:s})},style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,g.jsx)(n.A.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter a description"}],children:(0,g.jsx)(x(),{ref:C,className:" w-full h-[140px]",theme:"snow",value:N,onChange:e=>{E({...S,description:e}),A(e)},style:{backgroundColor:"#EBE9E9",marginTop:"-1rem",borderRadius:0}})})]}),(0,g.jsx)("div",{className:"flex-col",style:{flex:1},children:(0,g.jsx)(n.A.Item,{name:"image",label:"Image",rules:[{required:!0,message:"Please upload an image"}],children:(0,g.jsx)(d.A.Dragger,{...D,children:y?(0,g.jsx)("img",{src:y,alt:"Preview",style:{width:"250%",height:"250px"}}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("p",{className:"ant-upload-drag-icon",children:(0,g.jsx)(m.A,{})}),(0,g.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,g.jsx)("p",{className:"text-sm px-10",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})})})})]}),(0,g.jsx)("div",{className:"flex justify-end py-20 ",children:(0,g.jsx)(n.A.Item,{children:(0,g.jsxs)(r.Ay,{name:"submit",type:"text",htmlType:"submit",onClick:e=>{e.preventDefault();const l=new FormData;l.append("title",b.getFieldValue("title")),l.append("description",b.getFieldValue("description")),k&&l.append("image",k),h(l,{onSuccess:()=>{b.resetFields(),w(null),F(null)}})},className:"w-30 ml-6 rounded bg-blue-500 hover:text-black hover:bg-white text-sm",style:{background:"linear-gradient(89.46deg, #39462D 13.05%, #658127 107.23%)",color:"white"},loading:s>0,children:["Submit"," "]})})})]})})})},b=()=>{const e=(0,a.Zp)(),l=(0,a.zy)().state.record;return(0,g.jsx)(i.A,{pageTitle:"Configuration",children:(0,g.jsxs)("div",{children:[(0,g.jsxs)(r.Ay,{onClick:()=>{e(-1)},type:"text",className:"w-30 h-10 mb-6",style:{background:"#65812729",color:"black",borderRadius:"50px",boxShadow:"none"},children:["Back"," "]}),(0,g.jsx)("div",{className:"bg-[#FFFFFF] w-full flex-row",children:(0,g.jsx)(h,{data:l,id:"",innerHTML:[]})})]})})}}}]);
//# sourceMappingURL=168.8dacb922.chunk.js.map