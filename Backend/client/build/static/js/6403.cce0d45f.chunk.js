"use strict";(self.webpackChunkcommodityvirtualdashboard=self.webpackChunkcommodityvirtualdashboard||[]).push([[6403],{24914:(e,l,a)=>{a.r(l),a.d(l,{default:()=>A});var t=a(65043),s=a(59748),r=a(33307),n=a(25589),o=a(87021),i=a(91490);const d=a.p+"static/media/large-rice-filed.24ec14e346f2cd8d51f9.jpg";var c=a(7205),m=a(88764),u=a(17586),h=a(90914),v=a(73023),f=a.n(v),x=a(3567),g=a(80630),p=a(51382),b=a(70579);const j=()=>{const{user:e}=(0,t.useContext)(h.c),l=(0,m.uf)();(0,t.useEffect)((()=>{if(null!==l&&void 0!==l&&l.photo){const e=null===l||void 0===l?void 0:l.photo;o(e)}}),[null===l||void 0===l?void 0:l.photo]);const a=(0,t.useRef)(null),s=null===e||void 0===e?void 0:e._id,{uploadProfilePromise:r}=(0,m.Uk)(s),[n,o]=t.useState(null),{mutate:i}=(0,m.uf)(),d=()=>{a.current&&a.current.click()},c=(0,b.jsx)("div",{className:"flex-col justify-center items-center",children:(0,b.jsx)("p",{children:"Click to upload an image"})});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",ref:a,style:{display:"none"},onChange:e=>{var l;const a=null===(l=e.target.files)||void 0===l?void 0:l[0];a&&(async e=>{if(!e)return;if(e.size>5242880)return void f()("File is too large (maximum size is 5MB)");if(e){const l=new FileReader;l.onload=e=>{var l;o(null===(l=e.target)||void 0===l?void 0:l.result)},l.readAsDataURL(e)}else o(null);const l=new FormData;l.append("photo",e);try{await r(l),i()}catch(a){}})(a)}}),n?(0,b.jsx)(x.A,{placement:"top",content:c,title:"Upload",children:(0,b.jsx)(g.A,{hoverable:!0,style:{width:"350px",height:"350px",border:"none",marginBottom:"20px",boxShadow:"none",overflow:"hidden"},onClick:d,cover:(0,b.jsx)("img",{alt:"User",style:{width:"100%",height:"100%",objectFit:"cover"},src:n})})}):(0,b.jsx)(g.A,{hoverable:!0,style:{width:"350px",height:"250px",border:"none",marginBottom:"20px",boxShadow:"none",overflow:"hidden"},onClick:d,cover:(0,b.jsx)("img",{alt:"example",style:{maxHeight:"100%",width:"auto",objectFit:"cover"},src:p.A})})]})};var w=a(60446),y=a.n(w);const A=()=>{const{mutate:e,isSuccess:l,reset:a}=(0,m.dZ)(),h=(0,c.l)(),[v]=s.A.useForm(),f=(0,m.uf)();(0,t.useEffect)((()=>{if(f){v.setFieldsValue(f);const e={...f,date_of_birth:y()(f.date_of_birth).format("YYYY-MM-DD")};v.setFieldsValue(e)}}),[f,v]);const[x,g]=(0,t.useState)({fullname:"",email:"",date_of_birth:"",address:"",phone:"",gender:""}),p=new Date;p.setFullYear(p.getFullYear()-15);const w=new Date;w.setFullYear(w.getFullYear()-15);const A=e=>{const{name:l,value:a}=e.target;g({...x,[l]:a})};return l&&(a(),(0,u.Sv)("Profile updated successfully")),(0,b.jsxs)(i.A,{Heading:"Profile",Background:d,children:[(0,b.jsxs)("div",{className:"max-sm:w-full flex flex-col sm:flex-row py-3 h-full",children:[(0,b.jsx)(j,{}),(0,b.jsxs)("div",{className:"ml-0 sm:ml-10",children:[" ",(0,b.jsxs)(s.A,{form:v,variant:"borderless",layout:"vertical",size:"large",name:"profile-form",onFinish:e,className:"px-4 w-[350px] sm:w-[700px]",children:[(0,b.jsx)("div",{className:"text-2xl mb-8 sm:mt-0 mt-4 font-bold text-black",children:"Basic Information"}),(0,b.jsxs)("div",{className:"gap-6 grid sm:grid-cols-1 md:grid-cols-2 w-full",style:{marginBottom:"-3rem",marginTop:"-2rem"},children:[(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"fullname",label:"Fullname",children:(0,b.jsx)(r.A,{value:(null===x||void 0===x?void 0:x.fullname)||"",className:" w-full",readOnly:!0,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"email",label:"Email",children:(0,b.jsx)(r.A,{value:(null===x||void 0===x?void 0:x.email)||"",className:" w-full",name:"email",readOnly:!0,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"phone",label:"Phone Number",children:(0,b.jsx)(r.A,{value:(null===x||void 0===x?void 0:x.phone)||"",className:" w-full",name:"phone",onChange:A,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"address",label:"Address",children:(0,b.jsx)(r.A,{value:(null===x||void 0===x?void 0:x.address)||"",className:" w-full",name:"address",onChange:A,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"date_of_birth",label:"Date of Birth",children:(0,b.jsx)(r.A,{type:"date",onChange:e=>{const{name:l,value:a}=e.target;let t=a;"date_of_birth"===l&&(t=a.split("T")[0]),g({...x,[l]:t})},className:" w-full",max:p.toISOString().split("T")[0],style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"gender",label:"Gender",children:(0,b.jsxs)(n.A,{className:" w-full",value:(null===x||void 0===x?void 0:x.gender)||"",onChange:e=>((e,l)=>{g((a=>({...a,[e]:l})))})("gender",e),style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"},children:[(0,b.jsx)(n.A.Option,{value:"male",children:"Male"}),(0,b.jsx)(n.A.Option,{value:"female",children:"Female"})]})})})]})]})]})]}),(0,b.jsx)("div",{className:"py-10",children:(0,b.jsxs)(o.Ay,{name:"submit",onClick:e=>{e.preventDefault(),v.submit()},type:"primary",htmlType:"submit",className:"w-30 ml-4 rounded bg-blue-500 hover:text-black hover:bg-white text-sm",style:{background:"linear-gradient(89.46deg, #39462D 13.05%, #658127 107.23%)",color:"white"},loading:h>0,children:["Update Profile"," "]})})]})}},225:(e,l,a)=>{a.d(l,{A:()=>i});var t=a(58168),s=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"}},{tag:"path",attrs:{d:"M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"}}]},name:"aim",theme:"outlined"};var n=a(22172),o=function(e,l){return s.createElement(n.A,(0,t.A)({},e,{ref:l,icon:r}))};const i=s.forwardRef(o)},46011:(e,l,a)=>{a.d(l,{A:()=>i});var t=a(58168),s=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"};var n=a(22172),o=function(e,l){return s.createElement(n.A,(0,t.A)({},e,{ref:l,icon:r}))};const i=s.forwardRef(o)}}]);
//# sourceMappingURL=6403.cce0d45f.chunk.js.map