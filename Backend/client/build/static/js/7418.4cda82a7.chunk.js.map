{"version":3,"file":"static/js/7418.4cda82a7.chunk.js","mappings":"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","sources":["modules/User/MarketNews.tsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React from \"react\";\r\nimport Layouts from \"../../layout/Users\";\r\nimport backs from \"../../assets/holding-tomotoes.jpg\";\r\nimport { Row, Col, Spin } from \"antd\";\r\nimport { useGetAllNews } from \"../Admin/hooks\";\r\nimport { decode } from \"html-entities\";\r\nimport { Image } from \"antd\";\r\n\r\ninterface NewsItem {\r\n  description: string;\r\n  title: string;\r\n  image: string;\r\n  updatedAt: string;\r\n  id: number;\r\n  _id: number;\r\n}\r\n\r\nconst MarketNews = () => {\r\n  const { data: allNews } = useGetAllNews();\r\n\r\n  const [previewNews, setPreviewNews] = React.useState<NewsItem | null>(null);\r\n  const [selectedNewsId, setSelectedNewsId] = React.useState<number | null>(\r\n    null\r\n  );\r\n\r\n  const twoDaysAgo = new Date();\r\n  twoDaysAgo.setDate(twoDaysAgo.getDate() - 2);\r\n\r\n  const latestNews = React.useMemo(() => {\r\n    return allNews?.filter((news: { updatedAt: string | number | Date }) => {\r\n      const newsDate = new Date(news.updatedAt);\r\n      return newsDate > twoDaysAgo;\r\n    });\r\n  }, [allNews]);\r\n\r\n  const olderNews = React.useMemo(() => {\r\n    return allNews?.filter((news: { updatedAt: string | number | Date }) => {\r\n      const newsDate = new Date(news.updatedAt);\r\n      return newsDate <= twoDaysAgo;\r\n    });\r\n  }, [allNews]);\r\n\r\n  React.useEffect(() => {\r\n    if (olderNews && olderNews.length > 0) {\r\n      setPreviewNews(olderNews[0]);\r\n    }\r\n  }, [olderNews]);\r\n\r\n  React.useEffect(() => {\r\n    if (selectedNewsId !== null) {\r\n      const selected = [...olderNews, ...latestNews].find(\r\n        (selected: { _id: any }) => selected._id === selectedNewsId\r\n      );\r\n      setPreviewNews(selected);\r\n    }\r\n  }, [selectedNewsId, olderNews, latestNews]);\r\n\r\n  const handleNews = (news: NewsItem) => {\r\n    setSelectedNewsId(news._id);\r\n    setPreviewNews(news);\r\n  };\r\n\r\n  const decodedHtml = decode(previewNews?.description || \"\");\r\n\r\n  return (\r\n    <Layouts Heading=\"Market News\" Background={backs}>\r\n      <div className=\"mt-0 w-full sm:w-full\">\r\n        <Row gutter={12} className=\"gap-2 sm:gap-0\">\r\n          <Col xs={24} sm={24} md={6} lg={6}>\r\n            <div\r\n              style={{\r\n                fontSize: \"15px\",\r\n                letterSpacing: \".8px\",\r\n                color: \"white\",\r\n                marginBottom: \"1rem\",\r\n                paddingLeft: \"2rem\",\r\n                background: \"#658127\",\r\n                width: \"100%\",\r\n                height: \"40px\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              Recent News\r\n            </div>\r\n            {latestNews?.map((news: any, index: any) => (\r\n              <div\r\n                key={news?._id}\r\n                onClick={() => handleNews(news)}\r\n                style={{\r\n                  paddingLeft: \"2rem\",\r\n                  cursor: \"pointer\",\r\n                  padding: \"10px\",\r\n                  background:\r\n                    previewNews?._id === news._id ? \"#d0d0d0\" : \"#f0f0f0\",\r\n                }}\r\n              >\r\n                {news.title}\r\n              </div>\r\n            ))}\r\n\r\n            <>\r\n              <div\r\n                style={{\r\n                  fontSize: \"15px\",\r\n                  letterSpacing: \".8px\",\r\n                  color: \"white\",\r\n                  marginBottom: \"1rem\",\r\n                  marginTop: \"3rem\",\r\n                  paddingLeft: \"2rem\",\r\n                  background: \"#658127\",\r\n                  width: \"100%\",\r\n                  height: \"40px\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                Older News\r\n              </div>\r\n              {olderNews?.map((news: any, index: any) => (\r\n                <div\r\n                  key={news?._id}\r\n                  onClick={() => handleNews(news)}\r\n                  style={{\r\n                    paddingLeft: \"2rem\",\r\n                    cursor: \"pointer\",\r\n                    padding: \"10px\",\r\n                    background:\r\n                      previewNews?._id === news._id ? \"#d0d0d0\" : \"#f0f0f0\",\r\n                  }}\r\n                >\r\n                  {news.title}\r\n                </div>\r\n              ))}\r\n            </>\r\n          </Col>\r\n\r\n          <Col xs={24} sm={24} md={18} lg={18}>\r\n            <div className=\"pt-4 sm:pt-0\">\r\n              <div style={{ position: \"relative\" }}>\r\n                <Image\r\n                  width=\"100%\"\r\n                  height=\"30%\"\r\n                  preview={false}\r\n                  src={\r\n                    Array.isArray(previewNews?.image)\r\n                      ? previewNews?.image[0]\r\n                      : previewNews?.image || \"\"\r\n                  }\r\n                  fallback=\"https://via.placeholder.com/120\"\r\n                  placeholder={\r\n                    <div\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: \"50%\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <Spin size=\"large\" />\r\n                    </div>\r\n                  }\r\n                />\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    bottom: -25,\r\n                    left: 0,\r\n                    color: \"white\",\r\n                    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n                    paddingTop: \"5px\",\r\n                    paddingLeft: \"15px\",\r\n                    width: \"100%\",\r\n                    height: \"50px\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  className=\"w-full text-sm justify-center sm:text-md mb-10 font-bold\"\r\n                >\r\n                  {previewNews?.title}\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                className=\"w-full ml-2 text-sm sm:text-md mb-5\"\r\n                style={{ marginTop: \"1rem\" }}\r\n                dangerouslySetInnerHTML={{ __html: decodedHtml || \"\" }}\r\n              />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Layouts>\r\n  );\r\n};\r\n\r\nexport default MarketNews;\r\n"],"names":["MarketNews","data","allNews","useGetAllNews","previewNews","setPreviewNews","React","selectedNewsId","setSelectedNewsId","twoDaysAgo","Date","setDate","getDate","latestNews","filter","news","updatedAt","olderNews","length","selected","find","_id","handleNews","decodedHtml","decode","description","_jsx","Layouts","Heading","Background","backs","children","className","_jsxs","Row","gutter","Col","xs","sm","md","lg","style","fontSize","letterSpacing","color","marginBottom","paddingLeft","background","width","height","display","alignItems","map","index","onClick","cursor","padding","title","_Fragment","marginTop","position","Image","preview","src","Array","isArray","image","fallback","placeholder","justifyContent","Spin","size","bottom","left","backgroundColor","paddingTop","dangerouslySetInnerHTML","__html"],"sourceRoot":""}