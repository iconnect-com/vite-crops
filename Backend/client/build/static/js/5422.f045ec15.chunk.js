"use strict";(self.webpackChunkcommodityvirtualdashboard=self.webpackChunkcommodityvirtualdashboard||[]).push([[5422],{24994:(e,l,a)=>{a.r(l),a.d(l,{default:()=>A});var t=a(65043),s=a(59748),r=a(33307),n=a(25589),o=a(87021),c=a(7205),i=a(88764),d=a(17586),m=a(60446),h=a.n(m),u=a(90914),v=a(73023),f=a.n(v),x=a(3567),g=a(80630),p=a(51382),b=a(70579);const j=()=>{const{user:e}=(0,t.useContext)(u.c),l=(0,i.uf)();(0,t.useEffect)((()=>{if(null!==l&&void 0!==l&&l.photo){const e=null===l||void 0===l?void 0:l.photo;o(e)}}),[null===l||void 0===l?void 0:l.photo]);const a=(0,t.useRef)(null),s=null===e||void 0===e?void 0:e._id,{uploadProfilePromise:r}=(0,i.Uk)(s),[n,o]=t.useState(null),{mutate:c}=(0,i.uf)(),d=()=>{a.current&&a.current.click()},m=(0,b.jsx)("div",{className:"flex-col justify-center items-center",children:(0,b.jsx)("p",{children:"Click to upload an image"})});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",ref:a,style:{display:"none"},onChange:e=>{var l;const a=null===(l=e.target.files)||void 0===l?void 0:l[0];a&&(async e=>{if(!e)return;if(e.size>5242880)return void f()("File is too large (maximum size is 5MB)");if(e){const l=new FileReader;l.onload=e=>{var l;o(null===(l=e.target)||void 0===l?void 0:l.result)},l.readAsDataURL(e)}else o(null);const l=new FormData;l.append("photo",e);try{await r(l),c()}catch(a){}})(a)}}),n?(0,b.jsx)(x.A,{placement:"top",content:m,title:"Upload",children:(0,b.jsx)(g.A,{hoverable:!0,style:{width:"350px",height:"350px",border:"none",marginBottom:"20px",boxShadow:"none",overflow:"hidden"},onClick:d,cover:(0,b.jsx)("img",{alt:"User",style:{width:"100%",height:"100%",objectFit:"cover"},src:n})})}):(0,b.jsx)(g.A,{hoverable:!0,style:{width:"350px",height:"250px",border:"none",marginBottom:"20px",boxShadow:"none",overflow:"hidden"},onClick:d,cover:(0,b.jsx)("img",{alt:"example",style:{maxHeight:"100%",width:"auto",objectFit:"cover"},src:p.A})})]})};var w=a(48649);const A=()=>{const{mutate:e,isSuccess:l,reset:a}=(0,i.dZ)(),m=(0,c.l)(),[u]=s.A.useForm(),v=(0,i.uf)();(0,t.useEffect)((()=>{if(v){u.setFieldsValue(v);const e={...v,date_of_birth:h()(v.date_of_birth).format("YYYY-MM-DD")};u.setFieldsValue(e)}}),[v,u]);const[f,x]=(0,t.useState)({fullname:"",email:"",date_of_birth:"",address:"",phone:"",gender:""}),g=new Date;g.setFullYear(g.getFullYear()-15);const p=new Date;p.setFullYear(p.getFullYear()-15);const A=e=>{const{name:l,value:a}=e.target;x({...f,[l]:a})};return l&&(a(),(0,d.Sv)("Profile updated successfully")),(0,b.jsxs)(w.A,{pageTitle:"Profile",children:[(0,b.jsxs)("div",{className:"max-sm:w-full flex flex-col sm:flex-row py-3 h-full flex-wrap",children:[(0,b.jsxs)("div",{children:[" ",(0,b.jsx)(j,{})]}),(0,b.jsxs)("div",{className:"ml-0 sm:ml-10",children:[" ",(0,b.jsxs)(s.A,{form:u,variant:"borderless",layout:"vertical",size:"large",name:"profile-form",onFinish:e,className:"px-4 w-[350px] sm:w-[700px]",children:[(0,b.jsx)("div",{className:"text-2xl mb-8 sm:mt-0 mt-4 font-bold text-black",children:"Basic Information"}),(0,b.jsxs)("div",{className:"gap-6 grid sm:grid-cols-1 md:grid-cols-2 w-full",style:{marginBottom:"-3rem",marginTop:"-2rem"},children:[(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"fullname",label:"Fullname",children:(0,b.jsx)(r.A,{value:(null===f||void 0===f?void 0:f.fullname)||"",className:" w-full",readOnly:!0,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"email",label:"Email",children:(0,b.jsx)(r.A,{value:(null===f||void 0===f?void 0:f.email)||"",className:" w-full",name:"email",readOnly:!0,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"phone",label:"Phone Number",children:(0,b.jsx)(r.A,{value:(null===f||void 0===f?void 0:f.phone)||"",className:" w-full",name:"phone",onChange:A,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"address",label:"Address",children:(0,b.jsx)(r.A,{value:(null===f||void 0===f?void 0:f.address)||"",className:" w-full",name:"address",onChange:A,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"date_of_birth",label:"Date of Birth",children:(0,b.jsx)(r.A,{type:"date",onChange:A,className:" w-full",max:g.toISOString().split("T")[0],style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"}})})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(s.A.Item,{name:"gender",label:"Gender",children:(0,b.jsxs)(n.A,{className:" w-full",value:(null===f||void 0===f?void 0:f.gender)||"",onChange:e=>((e,l)=>{x((a=>({...a,[e]:l})))})("gender",e),style:{backgroundColor:"#EBE9E9",marginTop:"-2rem"},children:[(0,b.jsx)(n.A.Option,{value:"male",children:"Male"}),(0,b.jsx)(n.A.Option,{value:"female",children:"Female"})]})})})]})]})]})]}),(0,b.jsx)("div",{className:"py-10",children:(0,b.jsxs)(o.Ay,{name:"submit",onClick:e=>{e.preventDefault(),u.submit()},type:"primary",htmlType:"submit",className:"w-30 ml-4 rounded bg-blue-500 hover:text-black hover:bg-white text-sm",style:{background:"linear-gradient(89.46deg, #39462D 13.05%, #658127 107.23%)",color:"white"},loading:m>0,children:["Update Profile"," "]})})]})}},67937:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(58168),s=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 00-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]},name:"home",theme:"filled"};var n=a(22172),o=function(e,l){return s.createElement(n.A,(0,t.A)({},e,{ref:l,icon:r}))};const c=s.forwardRef(o)},31765:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(58168),s=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M280 752h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8zm192-280h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8zm192 72h80c4.4 0 8-3.6 8-8V280c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v256c0 4.4 3.6 8 8 8zm216-432H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"project",theme:"outlined"};var n=a(22172),o=function(e,l){return s.createElement(n.A,(0,t.A)({},e,{ref:l,icon:r}))};const c=s.forwardRef(o)},15834:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(58168),s=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 00-79.1-32.8zm412.3 235.5l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 009.3-35.2l-.9-2.6a442.5 442.5 0 00-79.6-137.7l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.3a353.44 353.44 0 00-98.9 57.3l-81.8-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a445.93 445.93 0 00-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0025.8 25.7l2.7.5a448.27 448.27 0 00158.8 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"}}]},name:"setting",theme:"filled"};var n=a(22172),o=function(e,l){return s.createElement(n.A,(0,t.A)({},e,{ref:l,icon:r}))};const c=s.forwardRef(o)},43244:(e,l,a)=>{a.d(l,{A:()=>c});var t=a(58168),s=a(65043);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"};var n=a(22172),o=function(e,l){return s.createElement(n.A,(0,t.A)({},e,{ref:l,icon:r}))};const c=s.forwardRef(o)}}]);
//# sourceMappingURL=5422.f045ec15.chunk.js.map