"use strict";(self.webpackChunkcommodityvirtualdashboard=self.webpackChunkcommodityvirtualdashboard||[]).push([[8572],{29907:(e,l,s)=>{s.r(l),s.d(l,{default:()=>E});var a=s(48649),r=s(65043),i=s(73216),t=s(87021),n=s(18489),o=s(59748),c=s(25589),d=s(33307),m=s(7205),u=s(50867),x=s(33563),h=s(35475),p=s(70579);const f=()=>{const{mutate:e}=(0,u.Nj)(),l=(0,m.l)(),[s]=o.A.useForm(),{publicCommodities:a}=(0,r.useContext)(x.y),[i,n]=(0,r.useState)({commodity:"",previous_price:"",new_price:"",effective_date:"",effective_time:"",reason_for_change:""}),f=e=>{const{name:l,value:s}=e.target;n({...i,[l]:s})};return(0,p.jsx)("div",{className:"justify-center items-center flex flex-col sm:flex-row py-3 h-full",children:(0,p.jsxs)("div",{children:[" ",(0,p.jsxs)(o.A,{form:s,variant:"borderless",layout:"vertical",size:"large",requiredMark:!1,name:"comodity-form",onFinish:l=>{e(l,{onSuccess:()=>{s.resetFields()}})},className:"flex-col sm:flex-row w-[250px] lg:w-[1000px] md:w-full sm:w-full",children:[(0,p.jsx)("div",{className:"flex justify-end mb-2 mt-10",children:(0,p.jsx)(h.N_,{to:"/app/configuration/price-history",className:"text-[16px] mb-10 font-semibold leading-24 text-[#658127] hover:text-[#b5ca88]",children:"Price history"})}),(0,p.jsxs)("div",{className:"gap-6 grid sm:grid-cols-1 md:grid-cols-2",style:{marginBottom:"-3rem",marginTop:"-2rem"},children:[(0,p.jsx)(o.A.Item,{name:"commodity",label:"Commodity",rules:[{required:!0,message:"Please select a commodity"}],children:(0,p.jsx)(c.A,{className:"w-full",value:(null===i||void 0===i?void 0:i.commodity)||"",onChange:e=>((e,l)=>{const r=null===a||void 0===a?void 0:a.find((e=>e._id===l));null!==r&&void 0!==r&&r.previous_price&&s.setFieldsValue({previous_price:r.previous_price}),n((s=>({...s,[e]:l})))})("commodity",e),style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0},children:null===a||void 0===a?void 0:a.map(((e,l)=>(0,p.jsx)(c.A.Option,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e._id)))})}),(0,p.jsx)(o.A.Item,{name:"previous_price",label:"Previous Price",rules:[{required:!0,message:"Please enter the previous price"}],children:(0,p.jsx)(d.A,{className:" w-full",name:"previous_price",style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"new_price",label:"New Price",rules:[{required:!0,message:"Please enter the new price"}],children:(0,p.jsx)(d.A,{className:" w-full",name:"new_price",onChange:f,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"effective_date",label:"Effective Date",rules:[{required:!0,message:"Please select the effective date"}],children:(0,p.jsx)(d.A,{type:"date",onChange:f,className:" w-full",style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"effective_time",label:"Effective Time",rules:[{required:!0,message:"Please select the effective time"}],children:(0,p.jsx)(d.A,{type:"time",onChange:f,className:" w-full",style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"reason_for_change",label:"Reason for change",rules:[{required:!0,message:"Please enter the reason for change"}],children:(0,p.jsx)(d.A.TextArea,{className:" w-full",name:"reason_for_change",onChange:f,rows:4,style:{backgroundColor:"#EBE9E9",marginTop:"-1rem",borderRadius:0}})})]}),(0,p.jsx)("div",{className:"flex justify-end py-20 ",children:(0,p.jsx)(o.A.Item,{children:(0,p.jsxs)(t.Ay,{name:"submit",type:"primary",htmlType:"submit",onClick:async e=>{e.preventDefault();await(async()=>{try{return await s.validateFields(),!0}catch(e){return!1}})()&&s.submit()},className:" w-30 ml-6 rounded bg-blue-500 hover:text-black hover:bg-white text-sm",style:{background:"linear-gradient(89.46deg, #39462D 13.05%, #658127 107.23%)",color:"white"},loading:l>0,children:["Submit"," "]})})})]})]})})};var g=s(54903),j=s(59781),v=s(80132),b=s(92823),y=s.n(b),w=(s(25884),s(79698));const N=()=>{const{mutate:e}=(0,u.IV)(),l=(0,m.l)(),[s]=o.A.useForm(),[a,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(null),[x,f]=(0,r.useState)(""),[b,N]=(0,r.useState)({title:"",description:"",image:""}),A={name:"file",multiple:!1,beforeUpload:()=>!1,fileList:[],onChange:e=>{const l=e.file;if(c(l),e.fileList.length>0){const l=e.fileList[0].originFileObj;if(l){const e=new FileReader;e.onload=e=>{var l;i(null===(l=e.target)||void 0===l?void 0:l.result)},e.readAsDataURL(l)}else i(null)}}},C=(0,j.jE)();return(0,p.jsx)("div",{className:"justify-center items-center flex flex-col sm:flex-row py-3 h-full",children:(0,p.jsxs)("div",{children:[" ",(0,p.jsxs)(o.A,{form:s,variant:"borderless",layout:"vertical",size:"large",requiredMark:!1,name:"news-form",className:"flex-col sm:flex-row w-[250px] lg:w-[1000px] md:w-full sm:w-full",children:[(0,p.jsx)("div",{className:"flex justify-end mb-2 mt-10",children:(0,p.jsx)(h.N_,{to:"/app/configuration/market-news",className:"text-[16px] mb-10 font-semibold leading-24 text-[#658127] hover:text-[#b5ca88]",children:"View News"})}),(0,p.jsxs)("div",{className:"gap-6 flex flex-col sm:flex-row",style:{marginBottom:"-3rem",marginTop:"-2rem"},children:[(0,p.jsxs)("div",{className:"flex-col",style:{flex:1},children:[(0,p.jsx)(o.A.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter a title"}],children:(0,p.jsx)(d.A,{className:"w-full",name:"title",onChange:e=>{const{name:l,value:s}=e.target;N({...b,[l]:s})},style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter a description"}],children:(0,p.jsx)(y(),{className:" w-full h-[140px]",theme:"snow",value:x,onChange:e=>{N({...b,description:e}),f(e)},style:{backgroundColor:"#EBE9E9",marginTop:"-1rem",borderRadius:0}})})]}),(0,p.jsx)("div",{className:"flex-col",style:{flex:1},children:(0,p.jsx)(o.A.Item,{name:"image",label:"Image",rules:[{required:!0,message:"Please upload an image"}],children:(0,p.jsx)(g.A.Dragger,{...A,children:a?(0,p.jsx)("img",{src:a,alt:"Preview",style:{width:"250%",height:"250px"}}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{className:"ant-upload-drag-icon",children:(0,p.jsx)(v.A,{})}),(0,p.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,p.jsx)("p",{className:"text-sm px-10",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})})})})]}),(0,p.jsx)("div",{className:"flex justify-end py-20 ",children:(0,p.jsx)(o.A.Item,{children:(0,p.jsxs)(t.Ay,{name:"submit",type:"text",htmlType:"submit",onClick:async()=>{try{await s.validateFields();const l=new FormData;l.append("title",b.title),l.append("description",x),l.append("image",n),e(l,{onSuccess:()=>{s.resetFields(),C.invalidateQueries([w.l.commodity]),i(null),c(null)}})}catch(l){}},className:"w-30 ml-6 rounded bg-blue-500 hover:text-black hover:bg-white text-sm",style:{background:"linear-gradient(89.46deg, #39462D 13.05%, #658127 107.23%)",color:"white"},loading:l>0,children:["Submit"," "]})})})]})]})})};var A=s(90798);const C=()=>{const{mutate:e}=(0,u.Gc)(),l=(0,m.l)(),[s]=o.A.useForm(),[a,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(null),[x,f]=(0,r.useState)({commodity:"",current_price:"",previous_price:"",image:"",analysis:""}),b=e=>{const{name:l,value:s}=e.target;f({...x,[l]:s})},y={name:"file",multiple:!1,beforeUpload:()=>!1,fileList:[],onChange:e=>{const l=e.file;if(c(l),e.fileList.length>0){const l=e.fileList[0].originFileObj;if(l){const e=new FileReader;e.onload=e=>{var l;i(null===(l=e.target)||void 0===l?void 0:l.result)},e.readAsDataURL(l)}else i(null)}}},N=(0,j.jE)();return(0,p.jsx)("div",{className:"justify-center items-center flex flex-col sm:flex-row py-3 h-full",children:(0,p.jsxs)("div",{children:[" ",(0,p.jsxs)(o.A,{form:s,variant:"borderless",layout:"vertical",size:"large",requiredMark:!1,name:"commodity-form",className:"flex-col sm:flex-row w-[250px] lg:w-[1000px] md:w-full sm:w-full",children:[(0,p.jsx)("div",{className:"flex justify-end mb-2 mt-10",children:(0,p.jsx)(h.N_,{to:"/app/configuration/commodity",className:"text-[16px] mb-10 font-semibold leading-24 text-[#658127] hover:text-[#b5ca88]",children:"View Commodities"})}),(0,p.jsxs)("div",{className:"gap-6 flex flex-col sm:flex-row",style:{marginBottom:"-3rem",marginTop:"-2rem"},children:[(0,p.jsxs)("div",{className:"flex-col",style:{flex:1},children:[(0,p.jsx)(o.A.Item,{name:"commodity",label:"Commodity Name",rules:[{required:!0,message:"Please enter a commodity name"}],children:(0,p.jsx)(d.A,{className:"w-full",name:"commodity",onChange:b,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"current_price",label:"Price",rules:[{required:!0,message:"Please enter the current price"}],children:(0,p.jsx)(d.A,{className:" w-full",name:"current_price",onChange:b,style:{backgroundColor:"#EBE9E9",marginTop:"-2rem",borderRadius:0}})}),(0,p.jsx)(o.A.Item,{name:"analysis",label:"Analysis",rules:[{required:!0,message:"Please enter an analysis"}],children:(0,p.jsx)(A.A,{className:" w-full",name:"analysis",onChange:b,style:{backgroundColor:"#EBE9E9",marginTop:"-1rem",borderRadius:0},rows:4})})]}),(0,p.jsx)("div",{className:"flex-col",style:{flex:1},children:(0,p.jsx)(o.A.Item,{name:"image",label:"Image",rules:[{required:!0,message:"Please upload an image"}],children:(0,p.jsx)(g.A.Dragger,{...y,children:a?(0,p.jsx)("img",{src:a,alt:"Preview",style:{width:"50%",height:"150%"}}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{className:"ant-upload-drag-icon",children:(0,p.jsx)(v.A,{})}),(0,p.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,p.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})})})})]}),(0,p.jsx)("div",{className:"flex justify-end py-20 ",children:(0,p.jsx)(o.A.Item,{children:(0,p.jsxs)(t.Ay,{name:"submit",type:"primary",htmlType:"submit",onClick:async()=>{try{await s.validateFields();const l=new FormData;l.append("name",x.commodity),l.append("analysis",x.analysis),l.append("current_price",x.current_price),l.append("previous_price",x.current_price),l.append("image",n),e(l,{onSuccess:()=>{s.resetFields(),N.invalidateQueries([w.l.commodity]),i(null),c(null)}})}catch(l){}},className:"w-30 ml-6 rounded bg-blue-500 hover:text-black hover:bg-white text-sm",style:{background:"linear-gradient(89.46deg, #39462D 13.05%, #658127 107.23%)",color:"white"},loading:l>0,children:["Submit"," "]})})})]})]})})},k=()=>{const e=(0,i.Zp)(),l=[{key:"1",label:(0,p.jsx)("div",{className:" ml-5 w-full flex-row",children:(0,p.jsx)("span",{children:"Pricing"})}),children:(0,p.jsx)("div",{className:"bg-[#FFFFFF] w-full flex-row",children:(0,p.jsx)(f,{})})},{key:"2",label:(0,p.jsx)("div",{className:" w-full flex-row",children:(0,p.jsx)("span",{children:"News"})}),children:(0,p.jsx)("div",{className:"bg-[#FFFFFF] w-full flex-row",children:(0,p.jsx)(N,{})})},{key:"3",label:(0,p.jsx)("div",{className:" w-full flex-row",children:(0,p.jsx)("span",{children:"Commodity"})}),children:(0,p.jsx)("div",{className:"bg-[#FFFFFF] w-full flex-row",children:(0,p.jsx)(C,{})})}];return(0,p.jsxs)("div",{children:[(0,p.jsxs)(t.Ay,{onClick:()=>{e(-1)},type:"text",className:"w-30 h-10 mb-6",style:{background:"#65812729",color:"black",borderRadius:"50px",boxShadow:"none"},children:["Back"," "]}),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:" w-full flex-row",children:(0,p.jsx)(n.A,{defaultActiveKey:"1",items:l})})})]})},E=()=>(0,p.jsx)(a.A,{pageTitle:"Configuration",children:(0,p.jsx)(k,{})})},53722:(e,l,s)=>{s.d(l,{A:()=>o});var a=s(58168),r=s(65043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};var t=s(22172),n=function(e,l){return r.createElement(t.A,(0,a.A)({},e,{ref:l,icon:i}))};const o=r.forwardRef(n)}}]);
//# sourceMappingURL=8572.5e5eef59.chunk.js.map